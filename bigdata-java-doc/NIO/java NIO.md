java NIO

### java NIO和IO

java NIO是java 的替代IO API,意味着可以替代标准 Java IO和Java Networking API。Java NIO提供了与传统IO API不同的IO编程模型。

java IO与NIO的区别

|       IO        |            NIO            |
| :-------------: | :-----------------------: |
| 基于阻塞I/O操作 |     基于非阻塞I/O操作     |
|    面向流的     |        面向缓存的         |
|   通道不可用    |  通道可用于非阻塞I/O操作  |
|  选择器不可用   | 选择器可用于非阻塞I/O操作 |

### 通道和缓冲区

java NIO的读写使用的核心部件有：Channels,Buffers，Selectors。在标准的I/O API中，使用字符流和字节流。在NIO中使用通道和缓冲区。NIO中的所有I/O都是通过一个通道开始的。数据总是从缓冲区写入通道，并从通道读取到缓冲区。

数据读取操作：创建一个缓冲区，然后请求通道读取数据。

![309170906_70762](.\pic\309170906_70762.png)

数据写入操作：创建一个缓冲区，填充数据，并要求通道写入数据。

![826170907_45719](.\pic\826170907_45719.png)

选择器

Java NIO提供了“选择器”的概念。这是一个可以用于监视多个通道的对象，如数据到达，连接打开等。因此，单线程可以监视多个通道中的数据。
如果应用程序有多个通道(连接)打开，但每个连接的流量都很低，则可考虑使用它。 

![842170920_76561](.\pic\842170920_76561.png)

